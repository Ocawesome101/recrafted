<!DOCTYPE html>

<link rel="stylesheet" href="style.css">

<html>
  <title>Index</title>
  <body><p><a href='https://ocawesome101.github.io/'>Back</a></p>
<p><span class='yellow'>Recrafted 1.0<br>/></span> about<br><br>Recrafted is ComputerCraft's CraftOS but with saner<br>API design.&nbsp;&nbsp;It's also not licensed under the CCPL,<br>but rather the MIT license -- so you can freely use<br>Recrafted's&nbsp;&nbsp;code in&nbsp;&nbsp;other projects&nbsp;&nbsp;without being<br>legally&nbsp;&nbsp;bound&nbsp;&nbsp;to&nbsp;&nbsp;license&nbsp;&nbsp;them&nbsp;&nbsp;under&nbsp;&nbsp;the CCPL.<br><br>All&nbsp;&nbsp;APIs&nbsp;&nbsp;are&nbsp;&nbsp;implemented&nbsp;&nbsp;as&nbsp;&nbsp;described&nbsp;&nbsp;on&nbsp;&nbsp;the<br>CC: Tweaked wiki at <a href='https://tweaked.cc'>https://tweaked.cc</a>, with slight<br>modifications&nbsp;&nbsp;&nbsp;to&nbsp;&nbsp;fit&nbsp;&nbsp;Recrafted's&nbsp;&nbsp;&nbsp;API&nbsp;&nbsp;design.<br>Certain modules&nbsp;&nbsp;not&nbsp;&nbsp;written&nbsp;&nbsp;by&nbsp;&nbsp;Dan200 have been<br>adapted from&nbsp;&nbsp;CraftOS,&nbsp;&nbsp;&nbsp;relicensed&nbsp;&nbsp;under&nbsp;&nbsp;the MIT<br>license with permission from their authors.<br><br><br>Recrafted addresses several&nbsp;&nbsp;major pain points many<br>have with&nbsp;&nbsp;CraftOS.&nbsp;&nbsp;It&nbsp;&nbsp;has&nbsp;&nbsp;native multithreading<br>support (not just parallel,&nbsp;&nbsp;but a full scheduler);<br>changes&nbsp;&nbsp;to&nbsp;&nbsp;package.path&nbsp;&nbsp;&nbsp;are&nbsp;&nbsp;fully&nbsp;&nbsp;persistent;<br>os.loadAPI has been&nbsp;&nbsp;altogether discarded;&nbsp;&nbsp;none of<br>the APIs provided by&nbsp;&nbsp;the&nbsp;&nbsp;system are inserted into<br>_G at&nbsp;&nbsp;boot--instead&nbsp;&nbsp;they&nbsp;&nbsp;must&nbsp;&nbsp;be&nbsp;&nbsp;loaded&nbsp;&nbsp;using<br>require(), as per Lua convention.&nbsp;&nbsp;&nbsp;And, of course,<br>the CCPL is no longer present.<br><br>For&nbsp;&nbsp;questions&nbsp;&nbsp;about Recrafted,&nbsp;&nbsp;or&nbsp;&nbsp;generally&nbsp;&nbsp;to<br>discuss&nbsp;&nbsp;&nbsp;it&nbsp;&nbsp;in&nbsp;&nbsp;greater&nbsp;&nbsp;depth,&nbsp;&nbsp;please&nbsp;&nbsp;use&nbsp;&nbsp;the<br>#recrafted channel in <a href='https://discord.gg/6kXmSAcPWC'>my Discord guild</a>.<br><br><span class='yellow'>/></span> help whatsnew<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class='yellow'>NEW IN RECRAFTED</span><br><br>The&nbsp;&nbsp;following&nbsp;&nbsp;is a&nbsp;&nbsp;non-exhaustive&nbsp;&nbsp;list&nbsp;&nbsp;of&nbsp;&nbsp;new<br>and/or&nbsp;&nbsp;changed features&nbsp;&nbsp;in Recrafted compared&nbsp;&nbsp;to<br>CraftOS.<br><br><span class='yellow'>Major Changes<br>=============</span><br><br>&nbsp;&nbsp;<span class='red'>-</span> <span class='lightGray'>os.loadAPI</span> has been completely omitted.<br>&nbsp;&nbsp;<span class='red'>-</span> <span class='lightGray'>*</span> All APIs except the standard Lua ones must be<br>&nbsp;&nbsp;&nbsp;&nbsp;loaded using&nbsp;&nbsp;<span class='lightGray'>require</span>&nbsp;&nbsp;before they can be used.<br>&nbsp;&nbsp;<span class='red'>-</span> <span class='lightGray'>*</span> Lua 5.1&nbsp;&nbsp;builtins have been removed from&nbsp;&nbsp;<span class='lightGray'>_G</span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;but can be accessed through <span class='lightGray'>require(<span class='red'>"lua51"</span>)</span>.<br>&nbsp;&nbsp;<span class='red'>-</span> Startup&nbsp;&nbsp;&nbsp;scripts&nbsp;&nbsp;from&nbsp;&nbsp;<span class='yellow'>/startup</span>&nbsp;&nbsp;are&nbsp;&nbsp;run&nbsp;&nbsp;in<br>&nbsp;&nbsp;&nbsp;&nbsp;parallel as separate threads.<br>&nbsp;&nbsp;<span class='red'>-</span> Recrafted&nbsp;&nbsp;&nbsp;has&nbsp;&nbsp;&nbsp;full&nbsp;&nbsp;&nbsp;native&nbsp;&nbsp;&nbsp;support&nbsp;&nbsp;&nbsp;for<br>&nbsp;&nbsp;&nbsp;&nbsp;multithreading&nbsp;&nbsp;--&nbsp;&nbsp;custom&nbsp;&nbsp;schedulers&nbsp;&nbsp;are&nbsp;&nbsp;no<br>&nbsp;&nbsp;&nbsp;&nbsp;longer necessary!<br>&nbsp;&nbsp;<span class='red'>-</span> Multishell&nbsp;&nbsp;can be used even on standard&nbsp;&nbsp;(non-<br>&nbsp;&nbsp;&nbsp;&nbsp;advanced)&nbsp;&nbsp;&nbsp;computers,&nbsp;&nbsp;&nbsp;using&nbsp;&nbsp;&nbsp;Alt+Left&nbsp;&nbsp;&nbsp;and<br>&nbsp;&nbsp;&nbsp;&nbsp;Alt+Right&nbsp;&nbsp;to&nbsp;&nbsp;&nbsp;switch&nbsp;&nbsp;&nbsp;tabs.&nbsp;&nbsp;&nbsp;&nbsp;There&nbsp;&nbsp;is&nbsp;&nbsp;no<br>&nbsp;&nbsp;&nbsp;&nbsp;dedicated Multishell program - only the API.&nbsp;&nbsp;A<br>&nbsp;&nbsp;&nbsp;&nbsp;Multishell instance may be started&nbsp;&nbsp;at any time<br>&nbsp;&nbsp;&nbsp;&nbsp;using <span class='lightGray'>multishell.launch</span>.<br><br><span class='lightGray'>*</span> These&nbsp;&nbsp;do&nbsp;&nbsp;not apply when compatibility&nbsp;&nbsp;mode&nbsp;&nbsp;is<br>&nbsp;&nbsp;enabled - see "Compatibility Mode" below.<br><br><br><span class='yellow'>New API Methods<br>===============</span><br><br>Recrafted features a few extensions to the&nbsp;&nbsp;CraftOS<br>APIs:<br><br>&nbsp;&nbsp;<span class='red'>-</span> <span class='lightGray'>textutils.coloredWrite</span>(...):<br>&nbsp;&nbsp;&nbsp;&nbsp;Similar&nbsp;&nbsp;to&nbsp;&nbsp;<span class='lightGray'>textutils.tabulate</span>(),&nbsp;&nbsp;&nbsp;but&nbsp;&nbsp;takes<br>&nbsp;&nbsp;&nbsp;&nbsp;strings instead of tables&nbsp;&nbsp;and doesn't tabulate<br>&nbsp;&nbsp;&nbsp;&nbsp;its arguments.&nbsp;&nbsp;Useful&nbsp;&nbsp;for&nbsp;&nbsp;easy&nbsp;&nbsp;printing&nbsp;&nbsp;of<br>&nbsp;&nbsp;&nbsp;&nbsp;colorized&nbsp;&nbsp;text.&nbsp;&nbsp;Returns&nbsp;&nbsp;the&nbsp;&nbsp;number of lines<br>&nbsp;&nbsp;&nbsp;&nbsp;written.<br><br>&nbsp;&nbsp;<span class='red'>-</span> <span class='lightGray'>textutils.coloredPrint</span>(...):<br>&nbsp;&nbsp;&nbsp;&nbsp;Like&nbsp;&nbsp;<span class='lightGray'>textutils.coloredWrite</span>(),&nbsp;&nbsp;but prints&nbsp;&nbsp;an<br>&nbsp;&nbsp;&nbsp;&nbsp;extra&nbsp;&nbsp;newline at the end of the text,&nbsp;&nbsp;similar<br>&nbsp;&nbsp;&nbsp;&nbsp;to <span class='lightGray'>print</span>().<br><br>&nbsp;&nbsp;<span class='red'>-</span> Tables&nbsp;&nbsp;&nbsp;given&nbsp;&nbsp;&nbsp;to&nbsp;&nbsp;<span class='lightGray'>textutils.tabulate</span>()&nbsp;&nbsp;&nbsp;may<br>&nbsp;&nbsp;&nbsp;&nbsp;contain tables, along with strings and numbers;<br>&nbsp;&nbsp;&nbsp;&nbsp;if a table is present, it must contain a set of<br>&nbsp;&nbsp;&nbsp;&nbsp;arguments&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;suitable&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;&nbsp;&nbsp;&nbsp;passing&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class='lightGray'>textutils.coloredWrite</span>().<br><br>&nbsp;&nbsp;<span class='red'>-</span> Recrafted's <span class='lightGray'>paintutils</span> API&nbsp;&nbsp;uses the BIMG (Blit<br>&nbsp;&nbsp;&nbsp;&nbsp;Image)&nbsp;&nbsp;format&nbsp;&nbsp;for&nbsp;&nbsp;its&nbsp;&nbsp;images.&nbsp;&nbsp;This&nbsp;&nbsp;format<br>&nbsp;&nbsp;&nbsp;&nbsp;supports&nbsp;&nbsp;animations and lots of&nbsp;&nbsp;other&nbsp;&nbsp;useful<br>&nbsp;&nbsp;&nbsp;&nbsp;metadata,&nbsp;&nbsp;&nbsp;plus&nbsp;&nbsp;combining&nbsp;&nbsp;text&nbsp;&nbsp;and&nbsp;&nbsp;images.<br>&nbsp;&nbsp;&nbsp;&nbsp;See&nbsp;&nbsp;&nbsp;&nbsp;<a href='https://github.com/SkyTheCodeMaster/bimg'>https://github.com/SkyTheCodeMaster/bimg</a><br>&nbsp;&nbsp;&nbsp;&nbsp;for details on the format.<br><br><br>The&nbsp;&nbsp;&nbsp;Multishell&nbsp;&nbsp;&nbsp;foreground&nbsp;&nbsp;&nbsp;thread&nbsp;&nbsp;&nbsp;management<br>functions&nbsp;&nbsp;should&nbsp;&nbsp;only&nbsp;&nbsp;be&nbsp;&nbsp;used&nbsp;&nbsp;when&nbsp;&nbsp;absolutely<br>necessary.&nbsp;&nbsp;If they ARE necessary,&nbsp;&nbsp;these should be<br>used&nbsp;&nbsp;&nbsp;instead&nbsp;&nbsp;of&nbsp;&nbsp;the&nbsp;&nbsp;corresponding&nbsp;&nbsp;thread&nbsp;&nbsp;API<br>functions&nbsp;&nbsp;regardless&nbsp;&nbsp;of&nbsp;&nbsp;whether&nbsp;&nbsp;&nbsp;multishell&nbsp;&nbsp;is<br>actually enabled, to ensure proper behavior when it<br>is enabled.<br><br>The foreground thread is&nbsp;&nbsp;the only thread that will<br>respond&nbsp;&nbsp;to terminate events.&nbsp;&nbsp;Ensuring that it&nbsp;&nbsp;is<br>set correctly is therefore quite important.&nbsp;&nbsp;&nbsp;Under<br>most circumstances you should not need to use these<br>functions,&nbsp;&nbsp;since <span class='lightGray'>shell.run</span>() uses them behind&nbsp;&nbsp;the<br>scenes.<br><br>These&nbsp;&nbsp;should&nbsp;&nbsp;not&nbsp;&nbsp;be confused&nbsp;&nbsp;with&nbsp;&nbsp;Multishell's<br>getFocus() and setFocus()&nbsp;&nbsp;functions,&nbsp;&nbsp;which manage<br>the focused tab.<br><br>&nbsp;&nbsp;<span class='red'>-</span> <span class='lightGray'>multishell.getForeground</span>():<br>&nbsp;&nbsp;&nbsp;&nbsp;Returns the foreground thread ID of the current<br>&nbsp;&nbsp;&nbsp;&nbsp;tab.<br><br>&nbsp;&nbsp;<span class='red'>-</span> <span class='lightGray'>multishell.pushForeground</span>(<span class='magenta'>pid</span>):<br>&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;&nbsp;a thread to the current tab's&nbsp;&nbsp;foreground<br>&nbsp;&nbsp;&nbsp;&nbsp;stack;&nbsp;&nbsp;the&nbsp;&nbsp;given thread will be removed&nbsp;&nbsp;when<br>&nbsp;&nbsp;&nbsp;&nbsp;it exits.<br><br>&nbsp;&nbsp;<span class='red'>-</span> <span class='lightGray'>multishell.switchForeground</span>(<span class='magenta'>pid</span>):<br>&nbsp;&nbsp;&nbsp;&nbsp;Changes&nbsp;&nbsp;the&nbsp;&nbsp;top entry&nbsp;&nbsp;of the&nbsp;&nbsp;current&nbsp;&nbsp;tab's<br>&nbsp;&nbsp;&nbsp;&nbsp;foreground stack;&nbsp;&nbsp;removes the old entry.<br><br>&nbsp;&nbsp;<span class='red'>-</span> <span class='lightGray'>multishell.launch</span>()'s&nbsp;&nbsp;&nbsp;first&nbsp;&nbsp;&nbsp;argument,&nbsp;&nbsp;&nbsp;the<br>&nbsp;&nbsp;&nbsp;&nbsp;environment,&nbsp;&nbsp;is optional and may be completely<br>&nbsp;&nbsp;&nbsp;&nbsp;omitted.<br><br><br><span class='yellow'>/></span> help compatibility<br><br><span class='yellow'>Compatibility Mode<br>==================</span><br><br>When the <span class='cyan'>bios.compat_mode</span> setting is set, Recrafted<br>will&nbsp;&nbsp;&nbsp;enter&nbsp;&nbsp;&nbsp;CraftOS&nbsp;&nbsp;compatibility&nbsp;&nbsp;mode.&nbsp;&nbsp;&nbsp;This<br>disables&nbsp;&nbsp;&nbsp;strict&nbsp;&nbsp;global checking and&nbsp;&nbsp;places&nbsp;&nbsp;all<br>relevant&nbsp;&nbsp;&nbsp;functions&nbsp;&nbsp;&nbsp;and&nbsp;&nbsp;&nbsp;APIs&nbsp;&nbsp;&nbsp;into&nbsp;&nbsp;&nbsp;<span class='lightGray'>_G</span>.&nbsp;&nbsp;&nbsp;In<br>compatibility&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode,&nbsp;&nbsp;&nbsp;&nbsp;<span class='lightGray'>os.version</span>()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns<br><span class='red'>"CraftOS 1.8"</span>&nbsp;&nbsp;rather&nbsp;&nbsp;than the&nbsp;&nbsp;current&nbsp;&nbsp;Recrafted<br>version.<br><br>This mode should only be used when necessary.&nbsp;&nbsp;&nbsp;New<br>programs&nbsp;&nbsp;should use proper Lua coding&nbsp;&nbsp;conventions<br>and therefore work without it.<br><br><span class='yellow'>/></span> <span class='blink'>_</span><br><br></p>
  </body>
</html>
